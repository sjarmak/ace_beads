{"id":"ACE_Beads_Amp-1","title":"Set up TypeScript project structure with build/test/lint tools","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-27T11:20:54.934962-04:00","updated_at":"2025-10-27T11:22:36.619443-04:00","closed_at":"2025-10-27T11:22:36.619443-04:00"}
{"id":"ACE_Beads_Amp-10","title":"Test ACE learning cycle","description":"Validate that ACE framework can learn from execution feedback","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-27T11:39:36.331123-04:00","updated_at":"2025-10-27T11:39:36.741529-04:00","closed_at":"2025-10-27T11:39:36.741529-04:00"}
{"id":"ACE_Beads_Amp-11","title":"Implement Curator meta bead generation for self-managing knowledge base","description":"Enable ACE Curator to create meta beads that track knowledge gaps, consolidation opportunities, and trigger multi-epoch learning. This makes the ACE system self-managing by having the Curator identify when it needs more data, when patterns should be consolidated, or when human review is needed.\n\n## Context\nThe ACE framework has three roles:\n- Generator: Executes tasks, discovers issues\n- Reflector: Analyzes outcomes, extracts insights\n- Curator: Integrates insights into knowledge/AGENT.md\n\nCurrently, the Curator only updates AGENT.md. This feature extends it to also create meta beads that manage the knowledge base lifecycle.\n\n## Requirements\n\n### 1. Curator Permission Updates\nUpdate ~/custom-subagent/src/subagents.ts to allow Curator to create beads:\n- Add: createPermission('Bash', 'allow', { matches: { cmd: 'bd create*' } })\n- Add: createPermission('Bash', 'allow', { matches: { cmd: 'bd dep*' } })\n\n### 2. Meta Bead Scenarios\nCurator should create beads in these situations:\n\n**A. Insufficient Evidence (confidence \u003c 0.6)**\nWhen Reflector generates insight with low confidence:\n\\`\\`\\`bash\nbd create \"Collect evidence: [pattern description]\" -t chore -p 4 --json\n# Add label: meta-learning\n# Description: Need 3+ more examples of [pattern] to reach confidence threshold\n\\`\\`\\`\n\n**B. Conflicting Feedback (harmful \u003e helpful/2)**\nWhen bullet has mixed helpful/harmful tracking:\n\\`\\`\\`bash\nbd create \"Review Bullet #X with conflicting feedback\" -t task -p 3 --json\n# Add label: review-needed\n# Description: Bullet #X marked helpful:3 harmful:2. Investigate context to refine or remove.\n\\`\\`\\`\n\n**C. Consolidation Opportunity (5+ similar bullets)**\nWhen multiple bullets cover similar patterns:\n\\`\\`\\`bash\nbd create \"Consolidate [topic] bullets into meta-pattern\" -t chore -p 3 --json\n# Add label: consolidation\n# Link to all source bullets with related dependencies\n# Description: Bullets #X, #Y, #Z all address [topic]. Extract higher-level pattern.\n\\`\\`\\`\n\n**D. Multi-Epoch Learning Trigger (10+ related completed tasks)**\nWhen enough work completed in domain for batch learning:\n\\`\\`\\`bash\nbd create \"Multi-epoch learning: [domain] patterns\" -t epic -p 2 --json\n# Add label: offline-learning\n# Description: 10+ auth-related tasks completed. Run batch analysis for meta-patterns.\n\\`\\`\\`\n\n**E. Knowledge Maintenance (periodic)**\nStale or harmful bullets needing cleanup:\n\\`\\`\\`bash\nbd create \"Archive or refine Bullet #X (harmful:N \u003e helpful:M)\" -t chore -p 3 --json\n# Add label: maintenance\n# Description: Bullet consistently marked harmful. Archive to knowledge/archive/ or refine.\n\\`\\`\\`\n\n### 3. Curator System Prompt Update\nAdd this section to ace-curator system prompt in ~/custom-subagent/src/subagents.ts:\n\n\\`\\`\\`\n## Meta Bead Generation\n\nIn addition to updating AGENT.md, create meta beads to manage knowledge lifecycle:\n\n1. **Low confidence insights** (\u003c 0.6):\n   - Create chore bead to collect more evidence\n   - Priority 4 (backlog)\n   - Auto-close when 3+ supporting tasks completed\n\n2. **Conflicting feedback** (harmful \u003e helpful/2):\n   - Create task bead for human review\n   - Priority 3\n   - Include context about when marked helpful vs harmful\n\n3. **Consolidation opportunity** (5+ similar bullets):\n   - Create chore bead to merge patterns\n   - Priority 3\n   - Link all source bullets with related dependencies\n\n4. **Epoch learning trigger** (10+ completed tasks in domain):\n   - Create epic bead for multi-epoch analysis\n   - Priority 2\n   - Group by labels (auth, typescript, build, etc.)\n\n5. **Stale/harmful patterns** (harmful \u003e helpful):\n   - Create maintenance bead to archive or refine\n   - Priority 3\n   - Move to knowledge/archive/ if consistently harmful\n\nAlways add appropriate labels: meta-learning, review-needed, consolidation, offline-learning, maintenance\n\\`\\`\\`\n\n### 4. Implementation Files to Modify\n\n**File: ~/custom-subagent/src/subagents.ts**\n- Update ace-curator permissions (add bd create and bd dep commands)\n- Update ace-curator system prompt (add Meta Bead Generation section)\n\n### 5. Test Scenario\n\nCreate test that validates meta bead generation:\n\n\\`\\`\\`typescript\n// scripts/test-meta-beads.ts\n// 1. Simulate low-confidence insight → verify chore bead created\n// 2. Simulate conflicting feedback → verify review bead created\n// 3. Simulate 5 similar bullets → verify consolidation bead created\n// 4. Simulate 10 completed auth tasks → verify epoch bead created\n\\`\\`\\`\n\n## Acceptance Criteria\n- [ ] Curator can create beads (permissions updated)\n- [ ] System prompt includes meta bead generation rules\n- [ ] Low-confidence insights create evidence-collection beads\n- [ ] Conflicting feedback creates review beads\n- [ ] Similar patterns create consolidation beads\n- [ ] Sufficient completed work creates epoch learning beads\n- [ ] All meta beads have appropriate labels\n- [ ] Test scenario validates all meta bead types\n\n## Benefits\n- **Self-managing**: System identifies its own knowledge gaps\n- **Quality control**: Detects and flags unreliable patterns\n- **Scalability**: Triggers batch learning when enough data accumulated\n- **Maintenance**: Prevents knowledge base bloat with stale bullets\n\n## References\n- ACE paper: https://arxiv.org/html/2510.04618v1 (Section on multi-epoch learning)\n- Current Curator implementation: ~/custom-subagent/src/subagents.ts line 150+\n- Beads client: /Users/sjarmak/ACE_Beads_Amp/mcp/beads-client.ts\n- Project context: /Users/sjarmak/ACE_Beads_Amp/AGENTS.md","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-10-27T11:49:03.763353-04:00","updated_at":"2025-10-27T11:53:58.51785-04:00","closed_at":"2025-10-27T11:53:58.51785-04:00"}
{"id":"ACE_Beads_Amp-12","title":"Integrate Amp threads with Beads for async notifications and handoff tracking","description":"Enable bidirectional linking between Amp threads and Beads issues to support async workflows, notifications, and handoff tracking.\n\n## Context\n\nThe ACE framework has three specialized subagents (Generator, Reflector, Curator) that work with Beads issues. Currently there's no link between the Amp threads where work happens and the Beads issues being tracked. This creates a gap in async workflows.\n\n## Use Cases\n\n1. **User creates task in thread** → Bead created → User gets notified when work completes\n2. **Generator discovers issues** → Child beads created → Original thread notified\n3. **Curator updates knowledge** → Thread that triggered work gets notification\n4. **Handoff workflow** → Subagent thread linked to bead → Progress tracked across threads\n\n## Research Required\n\n**CRITICAL**: Before implementation, research Amp codebase using Librarian:\n\\`\\`\\`\nLibrarian query: \"How do threads work in https://github.com/sourcegraph/amp/\"\nFocus on:\n- Thread structure and storage (PostgreSQL schema)\n- Thread relationships (fork, handoff)\n- Environment variables passed to tools (AMP_THREAD_ID)\n- Notification mechanisms (polling vs webhooks)\n- External API v2 endpoints for thread access\n\\`\\`\\`\n\n## Thread Metadata Schema Design\n\n### 1. Bead Extended Metadata\n\nAdd to BeadsClient and database schema:\n\n\\`\\`\\`typescript\nexport interface BeadIssue {\n  id: string;\n  title: string;\n  description: string;\n  status: 'open' | 'in_progress' | 'closed';\n  priority: number;\n  issue_type: 'bug' | 'feature' | 'task' | 'epic' | 'chore';\n  created_at: string;\n  updated_at: string;\n  closed_at?: string;\n  labels?: string[];\n  assignee?: string;\n  \n  // NEW: Amp Thread Integration\n  amp_metadata?: AmpThreadMetadata;\n}\n\nexport interface AmpThreadMetadata {\n  // Primary thread that created this bead\n  thread_id: string;              // \"T-{uuid}\"\n  thread_url: string;             // \"https://ampcode.com/threads/T-{uuid}\"\n  thread_title?: string;          // Auto-generated or user-set\n  workspace_id: string;           // Amp workspace ID\n  \n  // Creator context\n  created_by_agent?: 'generator' | 'reflector' | 'curator' | 'user';\n  created_in_context?: 'main-thread' | 'subagent-thread' | 'handoff';\n  \n  // Thread relationships\n  main_thread_id?: string;        // If created in subagent thread\n  parent_thread_id?: string;      // If created via handoff\n  handoff_goal?: string;          // Goal from /handoff command\n  \n  // Notification tracking\n  last_notified_at?: string;      // ISO 8601 timestamp\n  notification_count: number;     // How many notifications sent\n  \n  // Sync metadata\n  thread_created_at: string;      // ISO 8601 from Amp\n  thread_updated_at: string;      // ISO 8601 from Amp\n  synced_at: string;              // Last time we checked thread\n}\n\\`\\`\\`\n\n### 2. Thread-to-Bead Dependency Types\n\nExtend Beads dependency types:\n\n\\`\\`\\`typescript\nexport type DependencyType = \n  | 'blocks'                      // Task B must complete before task A\n  | 'related'                     // Soft connection\n  | 'parent-child'                // Epic/subtask\n  | 'discovered-from'             // AI discovered during work\n  | 'thread-fork'                 // Created from forked thread\n  | 'thread-handoff';             // Created from handoff to subagent\n\\`\\`\\`\n\n### 3. Notification Event Schema\n\nDefine notification payloads:\n\n\\`\\`\\`typescript\nexport interface BeadNotificationEvent {\n  event_id: string;               // UUID for deduplication\n  timestamp: string;              // ISO 8601\n  bead_id: string;                // ACE_Beads_Amp-X\n  thread_id: string;              // Target thread to notify\n  event_type: NotificationEventType;\n  payload: NotificationPayload;\n}\n\nexport type NotificationEventType =\n  | 'bead_created'                // New bead filed\n  | 'bead_completed'              // Bead closed\n  | 'bead_blocked'                // Dependency blocking\n  | 'knowledge_updated'           // AGENT.md modified\n  | 'meta_bead_created'           // Curator created meta bead\n  | 'review_needed'               // Human input required\n  | 'discovery_chain';            // N discovered issues found\n\nexport interface NotificationPayload {\n  summary: string;                // One-line description\n  details?: {\n    bullets_added?: number;\n    bullets_updated?: number;\n    meta_beads_created?: string[];\n    discovered_issues?: string[];\n    confidence?: number;\n    review_type?: 'conflicting-feedback' | 'low-confidence' | 'consolidation';\n  };\n  action_required?: boolean;      // Does user need to respond?\n  action_url?: string;            // Deep link to specific bead\n}\n\\`\\`\\`\n\n### 4. Database Extension\n\nExtend Beads SQLite schema:\n\n\\`\\`\\`sql\n-- New table for Amp thread metadata\nCREATE TABLE amp_thread_metadata (\n  bead_id TEXT PRIMARY KEY,\n  thread_id TEXT NOT NULL,\n  thread_url TEXT NOT NULL,\n  thread_title TEXT,\n  workspace_id TEXT NOT NULL,\n  created_by_agent TEXT,\n  created_in_context TEXT,\n  main_thread_id TEXT,\n  parent_thread_id TEXT,\n  handoff_goal TEXT,\n  last_notified_at TEXT,\n  notification_count INTEGER DEFAULT 0,\n  thread_created_at TEXT NOT NULL,\n  thread_updated_at TEXT NOT NULL,\n  synced_at TEXT NOT NULL,\n  FOREIGN KEY (bead_id) REFERENCES issues(id)\n);\n\n-- Index for finding beads by thread\nCREATE INDEX idx_amp_thread_id ON amp_thread_metadata(thread_id);\n\n-- New table for notification queue\nCREATE TABLE amp_notifications (\n  event_id TEXT PRIMARY KEY,\n  timestamp TEXT NOT NULL,\n  bead_id TEXT NOT NULL,\n  thread_id TEXT NOT NULL,\n  event_type TEXT NOT NULL,\n  payload TEXT NOT NULL,           -- JSON\n  sent BOOLEAN DEFAULT 0,\n  sent_at TEXT,\n  retry_count INTEGER DEFAULT 0,\n  FOREIGN KEY (bead_id) REFERENCES issues(id)\n);\n\nCREATE INDEX idx_amp_notifications_unsent ON amp_notifications(sent, timestamp);\nCREATE INDEX idx_amp_notifications_thread ON amp_notifications(thread_id);\n\\`\\`\\`\n\n## Implementation Approaches\n\n### Approach A: Polling-Based (Recommended First)\n\n**Pros:**\n- No Amp server changes needed\n- Works with current Amp v2 API\n- Simple to implement and test\n\n**Cons:**\n- 5-10 second notification delay\n- API rate limit concerns\n- Polling overhead\n\n**Implementation:**\n1. Detect thread context via \\`AMP_THREAD_ID\\` env var (already passed to tools)\n2. Store thread metadata when bead created\n3. Background poller checks Amp API for thread updates\n4. Write notifications to \\`amp_notifications\\` table\n5. Amp clients poll \\`/api/v2/threads\\` for updates\n\n### Approach B: MCP Notification Protocol (Future)\n\n**Pros:**\n- Real-time notifications\n- Standard protocol\n- Lower overhead\n\n**Cons:**\n- Requires Amp MCP server changes\n- Not currently implemented in Amp\n\n**Implementation:**\n1. Propose MCP notification support to Amp team\n2. Implement \\`notifications/message\\` handler\n3. Beads sends notifications via MCP\n4. Amp displays in thread UI\n\n### Approach C: Webhook + Database (Hybrid)\n\n**Pros:**\n- Near real-time for critical events\n- Batched polling for non-urgent\n- Extensible to other integrations\n\n**Cons:**\n- More complex architecture\n- Requires notification service\n\n**Implementation:**\n1. Notification service runs alongside Beads\n2. Writes to \\`amp_notifications\\` table\n3. Amp polling service reads table\n4. Future: Add webhook receiver to Amp server\n\n## Environment Variable Detection\n\nTools already receive \\`AMP_THREAD_ID\\` from Amp:\n\n\\`\\`\\`typescript\n// In BeadsClient.createIssue()\nconst threadContext = {\n  thread_id: process.env.AMP_THREAD_ID,\n  thread_url: process.env.AMP_THREAD_ID \n    ? \\`https://ampcode.com/threads/${process.env.AMP_THREAD_ID}\\`\n    : undefined,\n  workspace_id: process.env.AMP_WORKSPACE_ID,\n  created_by_agent: process.env.ACE_ROLE as 'generator' | 'reflector' | 'curator',\n};\n\nif (threadContext.thread_id) {\n  await beads.createIssue(title, {\n    ...options,\n    amp_metadata: threadContext\n  });\n}\n\\`\\`\\`\n\n## Notification Delivery Strategies\n\n### Strategy 1: Notification File (Simple)\n\nWrite to \\`~/.amp/notifications/{workspace-id}.jsonl\\`:\n\n\\`\\`\\`typescript\n// Amp polls this file every 5 seconds\nasync function writeNotification(event: BeadNotificationEvent) {\n  const file = \\`~/.amp/notifications/${event.workspace_id}.jsonl\\`;\n  await appendFile(file, JSON.stringify(event) + '\\n');\n}\n\\`\\`\\`\n\n### Strategy 2: Amp API Integration (Robust)\n\nPoll Amp's external API:\n\n\\`\\`\\`typescript\nasync function pollAndNotify() {\n  const unsent = await db.query(\\`\n    SELECT * FROM amp_notifications \n    WHERE sent = 0 \n    ORDER BY timestamp ASC \n    LIMIT 100\n  \\`);\n  \n  for (const event of unsent) {\n    // Option A: Write to shared database\n    await ampDB.insert('notifications', event);\n    \n    // Option B: POST to Amp API (if endpoint exists)\n    await fetch(\\`${AMP_API}/threads/${event.thread_id}/notifications\\`, {\n      method: 'POST',\n      body: JSON.stringify(event)\n    });\n    \n    await markSent(event.event_id);\n  }\n}\n\\`\\`\\`\n\n### Strategy 3: Client-Side Display (Interim)\n\nAdd to Amp thread messages:\n\n\\`\\`\\`typescript\n// When user opens thread T-123, check for notifications\nconst notifications = await beadsAPI.getNotifications({ thread_id: 'T-123' });\n\n// Display as system messages in thread UI\nfor (const notif of notifications) {\n  thread.appendSystemMessage({\n    content: notif.payload.summary,\n    metadata: { type: 'bead-notification', bead_id: notif.bead_id }\n  });\n}\n\\`\\`\\`\n\n## Handoff Workflow\n\nWhen user runs \\`/handoff ace-generator work on bd-42\\`:\n\n\\`\\`\\`typescript\n// 1. Amp creates handoff relationship\nconst relationship = {\n  threadID: 'T-new-child',\n  type: 'handoff',\n  role: 'parent',\n  comment: 'work on bd-42',\n  createdAt: Date.now()\n};\nparentThread.relationships.push(relationship);\n\n// 2. Child thread detects handoff context\nconst childEnv = {\n  AMP_THREAD_ID: 'T-new-child',\n  AMP_MAIN_THREAD_ID: 'T-parent',\n  AMP_HANDOFF_GOAL: 'work on bd-42',\n  AMP_WORKSPACE_ID: 'ws-123'\n};\n\n// 3. Generator updates bead with handoff metadata\nawait beads.updateIssue('bd-42', {\n  amp_metadata: {\n    thread_id: 'T-new-child',\n    main_thread_id: 'T-parent',\n    parent_thread_id: 'T-parent',\n    handoff_goal: 'work on bd-42',\n    created_in_context: 'handoff'\n  }\n});\n\n// 4. Add thread-handoff dependency\nawait beads.addDependency('bd-42', 'bd-parent', 'thread-handoff');\n\n// 5. Send progress notifications to parent thread\nawait notifyThread('T-parent', {\n  event_type: 'bead_progress',\n  summary: 'bd-42 in progress (handoff to ace-generator)'\n});\n\\`\\`\\`\n\n## Acceptance Criteria\n\n- [ ] BeadIssue interface extended with amp_metadata field\n- [ ] Database schema includes amp_thread_metadata and amp_notifications tables\n- [ ] Environment variable detection (\\`AMP_THREAD_ID\\`) works in all subagents\n- [ ] Thread metadata captured when beads created in thread context\n- [ ] Handoff relationships tracked via thread-handoff dependency type\n- [ ] Notification events written to amp_notifications table\n- [ ] At least one notification delivery strategy implemented (recommend file-based first)\n- [ ] Test scenario: create bead in thread → complete → verify notification\n- [ ] Test scenario: handoff workflow → bead linked to child thread → parent notified\n- [ ] Documentation for thread-to-bead workflow\n\n## Files to Modify\n\n1. \\`mcp/types.ts\\` - Add AmpThreadMetadata interface\n2. \\`mcp/beads-client.ts\\` - Add thread context detection and metadata storage\n3. Database schema - Add amp_thread_metadata and amp_notifications tables\n4. \\`agents/ace-generator/subagent.ts\\` - Auto-link beads to thread context\n5. \\`agents/ace-curator/subagent.ts\\` - Send notifications on knowledge updates\n6. New: \\`mcp/amp-notifier.ts\\` - Notification delivery service\n7. Tests: \\`tests/amp-integration.test.ts\\` - Validate thread linking and notifications\n\n## References\n\n- Amp repository: https://github.com/sourcegraph/amp/\n- Thread structure: \\`core/src/threads/thread.ts\\`\n- Handoff implementation: \\`core/src/threads/thread-handoff.ts\\`\n- External API: \\`server/src/routes/api/(external)/v2/threads/\\`\n- Notification service: \\`core/src/worker/notification-service.ts\\`\n- Permission context: \\`core/src/permissions/eval.ts\\` (AMP_THREAD_ID injection)\n\n## Next Steps\n\n1. Use Librarian to research Amp codebase (see Research Required section)\n2. Choose notification delivery strategy (recommend file-based for POC)\n3. Extend BeadsClient with thread metadata support\n4. Implement environment variable detection\n5. Add database schema for thread metadata\n6. Test with simple create-notify workflow\n7. Implement handoff tracking\n8. Add notification delivery service","status":"open","priority":1,"issue_type":"feature","created_at":"2025-10-27T12:08:30.143434-04:00","updated_at":"2025-10-27T12:19:36.597721-04:00"}
{"id":"ACE_Beads_Amp-13","title":"Implement mechanistic ACE Curator with semantic similarity and counter-based pruning","description":"Based on arxiv.org/html/2510.04618v1, implement the actual ACE framework methodology:\n\n## Current Issues\n- Curator system prompt is vague about decision process\n- No semantic similarity thresholds defined (should be 0.85 for update, 0.90 for dedup)\n- Missing counter-based feedback loop\n- Too much complexity with meta-beads\n- Not deterministic/mechanistic\n\n## Implementation Requirements\n\n### 1. Bullet Format in AGENT.md\n- [Bullet #ID, helpful:N, harmful:M] Content describing strategy/pattern\n- Store as structured data with unique IDs\n- Track counters for helpful/harmful feedback\n\n### 2. Generator Integration\n- Mark bullets as helpful/harmful during task execution\n- Report at completion: 'Bullet #23 helpful - predicted X'\n- Track which bullets were referenced\n\n### 3. Reflector Output Format\n{\n  \"new_insights\": [\n    {\n      \"pattern\": \"Concrete pattern description\",\n      \"trigger\": \"When this applies\",\n      \"action\": \"Steps to take\",\n      \"evidence\": [\"bd-42\", \"bd-51\"],\n      \"confidence\": \"high|medium|low\"\n    }\n  ],\n  \"bullet_updates\": [\n    {\n      \"bullet_id\": 23,\n      \"feedback\": \"helpful|harmful\",\n      \"reason\": \"Why it helped/harmed\"\n    }\n  ]\n}\n\n### 4. Curator Deterministic Logic (Non-LLM)\n- Calculate semantic similarity using embeddings (text-embedding-3-small)\n- IF similarity \u003e 0.85: UPDATE existing bullet (increment counter)\n- IF similarity \u003c 0.85: ADD new bullet (helpful:0, harmful:0)\n- Lazy deduplication when AGENT.md \u003e 10k tokens (similarity \u003e 0.90)\n- Never delete bullets except during deduplication\n- Default to ACCUMULATE\n\n### 5. Embedding Implementation\n- Use text-embedding-3-small for semantic similarity\n- Cosine similarity calculation\n- Cache embeddings for existing bullets\n- Thresholds: 0.85 (update), 0.90 (deduplicate)\n\n### 6. Context Pruning Strategy\n- Trigger: AGENT.md exceeds 10k tokens\n- Method: Semantic deduplication (\u003e0.90 similarity)\n- Keep bullet with higher helpful count when merging\n- Sum helpful/harmful counters\n- Optional: Remove bullets with harmful \u003e helpful*2\n\n## Files to Create/Modify\n1. mcp/embedding-client.ts - Semantic similarity calculation\n2. mcp/curator-logic.ts - Deterministic bullet management\n3. Update subagents.ts - Rewrite ace-curator and ace-reflector prompts\n4. knowledge/AGENT.md - Add counter tracking format\n5. tests/ace-curator.test.ts - Test deterministic logic\n\n## Acceptance Criteria\n- [ ] Curator uses semantic similarity, not LLM judgment\n- [ ] Counter-based feedback loop working\n- [ ] Grow-and-refine strategy implemented\n- [ ] Deduplication triggers at 10k tokens\n- [ ] All decisions are reproducible/deterministic\n- [ ] Generator can mark bullets helpful/harmful","status":"open","priority":1,"issue_type":"feature","created_at":"2025-10-27T12:19:00.547888-04:00","updated_at":"2025-10-27T12:19:00.547888-04:00"}
{"id":"ACE_Beads_Amp-14","title":"Complete remaining ACE_Beads_Amp-12 acceptance criteria (database schema, notification delivery)","description":"ACE_Beads_Amp-12 core data structures are complete. Remaining work:\n\n## Completed ✅\n- [x] BeadIssue interface extended with amp_metadata field\n- [x] TypeScript interfaces: AmpThreadMetadata, BeadNotificationEvent, NotificationEventType, NotificationPayload\n- [x] Environment variable detection (AMP_THREAD_ID) in BeadsClient.createIssue()\n- [x] Thread metadata captured when beads created in thread context\n\n## Remaining Work\n- [ ] Database schema includes amp_thread_metadata and amp_notifications tables\n- [ ] Notification events written to amp_notifications table\n- [ ] At least one notification delivery strategy implemented (file-based recommended)\n- [ ] Test scenario: create bead in thread → complete → verify notification\n- [ ] Test scenario: handoff workflow → bead linked to child thread → parent notified\n- [ ] Documentation for thread-to-bead workflow\n\n## Dependencies\nThis task focuses on the notification/database layer. The mechanistic ACE Curator implementation (ACE_Beads_Amp-13) is a separate track.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-10-27T12:19:36.603249-04:00","updated_at":"2025-10-27T12:23:57.508614-04:00","dependencies":[{"issue_id":"ACE_Beads_Amp-14","depends_on_id":"ACE_Beads_Amp-12","type":"parent-child","created_at":"2025-10-27T12:19:36.603679-04:00","created_by":"daemon"}]}
{"id":"ACE_Beads_Amp-15","title":"Test notification issue","description":"Testing notification delivery","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-27T12:30:47.135192-04:00","updated_at":"2025-10-27T12:30:47.157219-04:00","closed_at":"2025-10-27T12:30:47.157219-04:00"}
{"id":"ACE_Beads_Amp-16","title":"Issue without thread context","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-27T12:30:47.181769-04:00","updated_at":"2025-10-27T12:30:47.199585-04:00","closed_at":"2025-10-27T12:30:47.199585-04:00"}
{"id":"ACE_Beads_Amp-2","title":"Implement exec-runner for build/test/lint feedback","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-27T11:20:54.93675-04:00","updated_at":"2025-10-27T11:36:53.065922-04:00","closed_at":"2025-10-27T11:36:53.065922-04:00"}
{"id":"ACE_Beads_Amp-3","title":"Implement guarded-fs module with role-based permissions","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-27T11:20:54.938375-04:00","updated_at":"2025-10-27T11:36:02.650461-04:00","closed_at":"2025-10-27T11:36:02.650461-04:00"}
{"id":"ACE_Beads_Amp-4","title":"Implement ACE Curator subagent","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-27T11:20:54.940441-04:00","updated_at":"2025-10-27T11:38:34.525221-04:00","closed_at":"2025-10-27T11:38:34.525221-04:00"}
{"id":"ACE_Beads_Amp-5","title":"Add metrics collection and evaluation","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-10-27T11:20:54.941407-04:00","updated_at":"2025-10-27T11:20:54.941407-04:00"}
{"id":"ACE_Beads_Amp-6","title":"Create Beads MCP client integration","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-27T11:20:54.942512-04:00","updated_at":"2025-10-27T11:37:23.461124-04:00","closed_at":"2025-10-27T11:37:23.461124-04:00"}
{"id":"ACE_Beads_Amp-7","title":"Create test scenario and validate learning cycle","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-27T11:20:54.943504-04:00","updated_at":"2025-10-27T11:41:18.350892-04:00","closed_at":"2025-10-27T11:41:18.350892-04:00"}
{"id":"ACE_Beads_Amp-8","title":"Implement ACE Generator subagent","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-27T11:20:54.945961-04:00","updated_at":"2025-10-27T11:38:34.521156-04:00","closed_at":"2025-10-27T11:38:34.521156-04:00"}
{"id":"ACE_Beads_Amp-9","title":"Implement ACE Reflector subagent","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-27T11:20:54.949557-04:00","updated_at":"2025-10-27T11:38:34.523147-04:00","closed_at":"2025-10-27T11:38:34.523147-04:00"}
